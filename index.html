<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SD LIVE RATE & PREDICTION</title>

<style>
  .approved-box{
  margin:12px 0;
  padding:12px;
  border-radius:12px;
  background:linear-gradient(135deg,#1e1e1e,#2c2c2c);
  border:2px solid #00ffd5;
  text-align:center;
  box-shadow:0 6px 15px rgba(0,255,213,0.3);
}

.approved-title{
  font-weight:700;
  font-size:14px;
  color:#00ffd5;
  margin-bottom:6px;
}

.exchanges span{
  display:inline-block;
  margin:4px 6px;
  padding:4px 8px;
  border-radius:6px;
  background:linear-gradient(135deg,#ff5b5b,#00ff9c);
  color:#050814;
  font-size:12px;
  font-weight:700;
  transition:all 0.3s ease;
}

.exchanges span:hover{
  transform:scale(1.1);
  box-shadow:0 6px 12px rgba(0,0,0,0.4);
}
*{box-sizing:border-box}
body{
margin:0;
font-family:system-ui,Arial;
background:#050814;
color:#fff;
}

.wrapper{
min-height:100vh;
border:4px solid red;
padding:10px;
}

.header{
text-align:center;
padding:10px;
font-size:20px;
font-weight:700;
background:linear-gradient(135deg,#00ffd5,#3a7bd5);
color:#001;
border-radius:12px;
}

.net{
display:none;
margin-top:6px;
padding:6px;
border-radius:8px;
background:#ff3b3b;
text-align:center;
font-size:12px;
}

.grid{
margin-top:10px;
display:grid;
grid-template-columns:repeat(2,1fr);
gap:8px;
}

.card{
background:#0c1428;
border-radius:12px;
padding:8px;
text-align:center;
border:1px solid rgba(255,255,255,.08);
}

.coin{font-weight:700;font-size:13px}
.usd{font-size:14px;color:#00ffd5}
.pkr{font-size:11px;opacity:.8}

.pred{font-size:12px;font-weight:700}
.buy{color:#00ff9c}
.sell{color:#ff5b5b}

input{
width:100%;
margin-top:4px;
padding:5px;
border-radius:6px;
border:none;
background:#050b18;
color:white;
font-size:12px;
text-align:center;
}

.calc{
font-size:11px;
margin-top:3px;
opacity:.85;
}

.join{
margin:12px auto 6px;
display:block;
width:100%;
padding:10px;
font-size:14px;
font-weight:700;
border-radius:20px;
border:none;
background:linear-gradient(135deg,#25D366,#128C7E);
color:white;
}

.footer{text-align:center;font-size:11px;opacity:.7}
</style>
</head>

<body>
<div class="wrapper">

<div class="header">SD LIVE RATE & PREDICTION</div>
<div class="net" id="net">Internet / API Issue â€“ Reconnecting...</div>

<div class="grid" id="coins"></div>

<a href="https://whatsapp.com/channel/0029Vb6qBfXGZNCuhmARhv1u">
<button class="join">JOIN OFFICIAL CHANNEL</button>
</a>
<!-- Website Approved Box Start -->
<div class="approved-box">
  <div class="approved-title">Website Approved And Connected</div>
  <div class="exchanges">
    <span>BINANCE</span>
    <span>OKX</span>
    <span>XCHANGE ON</span>
    <span>BITGET</span>
    <span>BYBIT</span>
    <span>MEXC</span>
    <span>WEEX</span>
  </div>
</div>
<!-- Website Approved Box End -->
  
<div class="footer">Developed by SD</div>

</div>

<script>
const coins=[
{id:"bitcoin",name:"Bitcoin"},
{id:"solana",name:"Solana"},
{id:"tether",name:"USDT"},
{id:"dogecoin",name:"DogeCoin"},
{id:"polygon-ecosystem-token",name:"Polygon (POL)"}
];

const grid=document.getElementById("coins");

if(!grid.children.length){
coins.forEach(c=>{
grid.innerHTML+=`
<div class="card" id="${c.id}">
<div class="coin">${c.name}</div>

<div class="usd">Loading...</div>
<div class="pkr"></div>
<div class="pred"></div>

<input class="pkrIn" placeholder="Type here PKR">
<div class="calc">Totally Coin: <span class="fromPkr">0</span></div>

<input class="qtyIn" placeholder="Type here Coin">
<div class="calc">Totally PKR: <span class="fromQty">0</span></div>
</div>`;
});
}

let prices={};

const API1="https://api.coingecko.com/api/v3/simple/price";
const API2="https://api.allorigins.win/raw?url=https://api.coingecko.com/api/v3/simple/price";

async function fetchAPI(url){
const ids=coins.map(c=>c.id).join(",");
const full=`${url}?ids=${ids}&vs_currencies=usd,pkr&include_24hr_change=true`;
const r=await fetch(full,{cache:"no-store"});
if(!r.ok) throw "fail";
return await r.json();
}

async function load(){
try{
let data;
try{ data=await fetchAPI(API1); }
catch{ data=await fetchAPI(API2); }

prices=data;
document.getElementById("net").style.display="none";

coins.forEach(c=>{
const el=document.getElementById(c.id);
if(!data[c.id]) return;

const usd=data[c.id].usd||0;
const pkr=data[c.id].pkr||0;
const ch=data[c.id].usd_24h_change||0;

el.querySelector(".usd").innerText="$"+usd.toFixed(4);
el.querySelector(".pkr").innerText="PKR "+pkr.toFixed(2);

el.querySelector(".pred").innerHTML =
ch>0 ? "<span class='buy'>BUY NOW</span>"
: "<span class='sell'>SELL NOW</span>";
});
}catch{
document.getElementById("net").style.display="block";
}
}

// INPUT FIX
document.addEventListener("input",e=>{
coins.forEach(c=>{
const el=document.getElementById(c.id);
if(el.contains(e.target)){
const price=prices[c.id]?.pkr||0;
if(price<=0) return;

if(e.target.classList.contains("pkrIn")){
const v=parseFloat(e.target.value)||0;
el.querySelector(".fromPkr").innerText=(v/price).toFixed(6);
}

if(e.target.classList.contains("qtyIn")){
const q=parseFloat(e.target.value)||0;
el.querySelector(".fromQty").innerText=(q*price).toFixed(2);
}
}
});
});

load();
setInterval(load,7000);
</script>

</body>
</html>